<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãŠã¿ãã˜ â€” tkegg</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Noto+Sans+JP:wght@300;400;700&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --bg: #fafaf8;
  --surface: #f3f2ee;
  --card: #ffffff;
  --border: #e8e6e0;
  --ink: #1a1a18;
  --muted: #888880;
  --accent: #2563eb;
  --accent2: #059669;
  --mono: 'DM Mono', monospace;
}
html { scroll-behavior: smooth; }
body {
  background: var(--bg);
  color: var(--ink);
  font-family: 'Noto Sans JP', sans-serif;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
.container { max-width: 660px; margin: 0 auto; padding: 0 1.5rem; width: 100%; }

/* NAV */
nav {
  border-bottom: 1px solid var(--border);
  padding: 1rem 0;
}
.nav-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.nav-logo {
  font-family: var(--mono);
  font-size: 0.78rem;
  color: var(--muted);
  text-decoration: none;
  transition: color 0.2s;
}
.nav-logo:hover { color: var(--ink); }
.nav-back {
  font-family: var(--mono);
  font-size: 0.68rem;
  color: var(--muted);
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 0.3rem;
  transition: color 0.2s;
}
.nav-back:hover { color: var(--ink); }

/* MAIN */
main {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 3rem 0;
}
.omikuji-wrap {
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  text-align: center;
}

.page-eyebrow {
  font-family: var(--mono);
  font-size: 0.62rem;
  color: var(--muted);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  margin-bottom: 0.8rem;
}
.page-title {
  font-family: 'Instrument Serif', serif;
  font-size: 2.6rem;
  font-weight: 400;
  letter-spacing: -0.02em;
  margin-bottom: 0.5rem;
}
.page-title em { font-style: italic; color: var(--muted); }
.page-desc {
  font-size: 0.82rem;
  color: var(--muted);
  line-height: 1.7;
  margin-bottom: 2.5rem;
}

/* CARD */
.omikuji-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 2.5rem 2rem;
  margin-bottom: 1.5rem;
  min-height: 200px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: all 0.3s;
}
.omikuji-card.has-result {
  border-color: var(--ink);
  box-shadow: 0 8px 32px rgba(0,0,0,0.08);
}

.result-placeholder {
  font-family: var(--mono);
  font-size: 0.72rem;
  color: var(--muted);
  letter-spacing: 0.1em;
}

.result-emoji {
  font-size: 3rem;
  margin-bottom: 0.8rem;
  display: none;
  animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
@keyframes popIn {
  from { transform: scale(0.5); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
.result-text {
  font-family: 'Instrument Serif', serif;
  font-size: 3rem;
  font-weight: 400;
  letter-spacing: -0.02em;
  display: none;
  animation: fadeUp 0.4s ease 0.1s both;
}
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.result-message {
  font-size: 0.78rem;
  color: var(--muted);
  margin-top: 0.6rem;
  display: none;
  animation: fadeUp 0.4s ease 0.2s both;
}

/* FORTUNE COLORS */
.fortune-å¤§å‰ .result-text { color: #d97706; }
.fortune-ä¸­å‰ .result-text { color: #2563eb; }
.fortune-å°å‰ .result-text { color: var(--accent2); }
.fortune-å‰ .result-text { color: #7c3aed; }
.fortune-æœ«å‰ .result-text { color: var(--muted); }
.fortune-å‡¶ .result-text { color: #dc2626; }
.fortune-å¤§å‡¶ .result-text { color: #991b1b; }

/* BTN */
.draw-btn {
  width: 100%;
  padding: 1rem;
  border-radius: 10px;
  background: var(--ink);
  color: white;
  font-family: var(--mono);
  font-size: 0.78rem;
  font-weight: 500;
  letter-spacing: 0.05em;
  border: none;
  cursor: pointer;
  transition: all 0.18s;
  margin-bottom: 0.8rem;
}
.draw-btn:hover { background: #333; transform: translateY(-1px); }
.draw-btn:active { transform: translateY(0); }

.reset-btn {
  width: 100%;
  padding: 0.75rem;
  border-radius: 10px;
  background: var(--card);
  color: var(--muted);
  font-family: var(--mono);
  font-size: 0.7rem;
  letter-spacing: 0.05em;
  border: 1px solid var(--border);
  cursor: pointer;
  transition: all 0.18s;
  display: none;
}
.reset-btn:hover { border-color: var(--ink); color: var(--ink); }

/* HISTORY */
.history-section {
  margin-top: 2rem;
  text-align: left;
  display: none;
}
.history-label {
  font-family: var(--mono);
  font-size: 0.6rem;
  color: var(--muted);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  margin-bottom: 0.8rem;
  display: flex;
  align-items: center;
  gap: 0.6rem;
}
.history-label::after { content: ''; flex: 1; height: 1px; background: var(--border); }
.history-list {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}
.history-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 0.55rem 0.9rem;
  font-size: 0.75rem;
  animation: fadeUp 0.3s ease;
}
.history-num { font-family: var(--mono); font-size: 0.6rem; color: var(--muted); }
.history-result { font-weight: 700; }

/* FOOTER */
footer {
  border-top: 1px solid var(--border);
  padding: 1rem 0;
}
.footer-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.footer-text {
  font-family: var(--mono);
  font-size: 0.6rem;
  color: var(--muted);
}
</style>
</head>
<body>

<nav>
  <div class="container">
    <div class="nav-inner">
      <a href="index.html" class="nav-logo">tkegg / portfolio</a>
      <a href="index.html" class="nav-back">â† æˆ»ã‚‹</a>
    </div>
  </div>
</nav>

<main>
  <div class="container">
    <div class="omikuji-wrap">
      <div class="page-eyebrow">Fortune Teller</div>
      <h1 class="page-title">ãŠã¿ãã˜<em>ã‚’å¼•ã</em></h1>
      <p class="page-desc">ä»Šæ—¥ã®é‹å‹¢ã‚’å ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚<br>ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦é‹å‘½ã‚’å—ã‘å–ã£ã¦ãã ã•ã„ã€‚</p>

      <div class="omikuji-card" id="card">
        <div class="result-placeholder" id="placeholder">â€” ã“ã“ã«çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ â€”</div>
        <div class="result-emoji" id="emoji"></div>
        <div class="result-text" id="result"></div>
        <div class="result-message" id="message"></div>
      </div>

      <button class="draw-btn" id="drawBtn" onclick="draw()">ãŠã¿ãã˜ã‚’å¼•ã</button>
      <button class="reset-btn" id="resetBtn" onclick="reset()">ã‚‚ã†ä¸€åº¦å¼•ã</button>

      <div class="history-section" id="historySection">
        <div class="history-label">å¼•ã„ãŸå±¥æ­´</div>
        <div class="history-list" id="historyList"></div>
      </div>
    </div>
  </div>
</main>

<footer>
  <div class="container">
    <div class="footer-inner">
      <div class="footer-text">Â© 2025 tkegg</div>
      <div class="footer-text">Built with HTML / CSS / JS</div>
    </div>
  </div>
</footer>

<script>
const fortunes = [
  { text: 'å¤§å‰', emoji: 'ğŸŒŸ', message: 'æœ€é«˜ã®é‹å‹¢ã§ã™ï¼ä½•äº‹ã‚‚ç©æ¥µçš„ã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ã€‚' },
  { text: 'ä¸­å‰', emoji: 'âœ¨', message: 'è‰¯ã„é‹å‹¢ã§ã™ã€‚åŠªåŠ›ãŒå®Ÿã‚’çµã¶æ™‚æœŸã§ã™ã€‚' },
  { text: 'å°å‰', emoji: 'ğŸ€', message: 'ã¾ãšã¾ãšã®é‹å‹¢ã€‚å°ã•ãªå¹¸ã›ã‚’å¤§åˆ‡ã«ã€‚' },
  { text: 'å‰',   emoji: 'ğŸŒ¸', message: 'è‰¯ã„ã“ã¨ãŒã‚ã‚Šãã†ã§ã™ã€‚å‰å‘ãã«éã”ã—ã¾ã—ã‚‡ã†ã€‚' },
  { text: 'æœ«å‰', emoji: 'ğŸŒ±', message: 'ã“ã‚Œã‹ã‚‰é‹æ°—ãŒä¸ŠãŒã£ã¦ã„ãã¾ã™ã€‚ç„¦ã‚‰ãšã«ã€‚' },
  { text: 'å‡¶',   emoji: 'ğŸŒ§ï¸', message: 'ä»Šæ—¥ã¯æ…é‡ã«ã€‚ã§ã‚‚æ˜æ—¥ã¯ãã£ã¨è‰¯ããªã‚Šã¾ã™ã€‚' },
  { text: 'å¤§å‡¶', emoji: 'âš¡', message: 'è©¦ç·´ã®æ™‚ã§ã™ã€‚ä¹—ã‚Šè¶Šãˆã‚Œã°å¤§ããæˆé•·ã§ãã¾ã™ã€‚' },
];

let history = [];
let count = 0;

function draw() {
  const picked = fortunes[Math.floor(Math.random() * fortunes.length)];
  count++;
  history.unshift({ num: count, ...picked });

  const card = document.getElementById('card');
  const placeholder = document.getElementById('placeholder');
  const emoji = document.getElementById('emoji');
  const result = document.getElementById('result');
  const message = document.getElementById('message');

  placeholder.style.display = 'none';

  // reset animation
  emoji.style.display = 'none';
  result.style.display = 'none';
  message.style.display = 'none';
  card.className = 'omikuji-card';

  setTimeout(() => {
    card.className = `omikuji-card has-result fortune-${picked.text}`;
    emoji.textContent = picked.emoji;
    result.textContent = picked.text;
    message.textContent = picked.message;
    emoji.style.display = 'block';
    result.style.display = 'block';
    message.style.display = 'block';
  }, 50);

  document.getElementById('drawBtn').style.display = 'none';
  document.getElementById('resetBtn').style.display = 'block';

  updateHistory();
}

function reset() {
  const card = document.getElementById('card');
  const placeholder = document.getElementById('placeholder');
  const emoji = document.getElementById('emoji');
  const result = document.getElementById('result');
  const message = document.getElementById('message');

  card.className = 'omikuji-card';
  placeholder.style.display = 'block';
  emoji.style.display = 'none';
  result.style.display = 'none';
  message.style.display = 'none';

  document.getElementById('drawBtn').style.display = 'block';
  document.getElementById('resetBtn').style.display = 'none';
}

function updateHistory() {
  const section = document.getElementById('historySection');
  const list = document.getElementById('historyList');
  section.style.display = 'block';

  list.innerHTML = history.slice(0, 5).map(h => `
    <div class="history-item">
      <span class="history-num">#${h.num}</span>
      <span class="history-result">${h.emoji} ${h.text}</span>
      <span style="font-size:0.7rem;color:var(--muted)">${h.message.slice(0, 16)}â€¦</span>
    </div>
  `).join('');
}
</script>
</body>
</html>
